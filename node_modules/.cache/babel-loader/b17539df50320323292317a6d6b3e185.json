{"ast":null,"code":"var _jsxFileName = \"F:\\\\react-hostel-main\\\\src\\\\components\\\\UserManagement\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\nimport { login } from \"../../actions/securityActions\";\nconst emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\n\nconst formValid = ({\n  formErrors,\n  ...rest\n}) => {\n  let valid = true; // validate form errors being empty\n\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      formErrors: {\n        role1: \"\",\n        userId: \"\",\n        email: \"\",\n        password: \"\"\n      }\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const LoginRequest = {\n      email: this.state.email,\n      password: this.state.password,\n      role1: this.state.role1,\n      userId: this.state.userId\n    };\n    this.props.login(LoginRequest, this.props.history);\n  }\n\n  onChange(e) {\n    e.preventDefault();\n    const {\n      name,\n      value\n    } = e.target;\n    let formErrors = { ...this.state.formErrors\n    };\n\n    switch (name) {\n      case \"role1\":\n        formErrors.role1 = value.length < 1 ? \"Role is  required\" : \"\";\n        break;\n\n      case \"userId\":\n        formErrors.userId = value.length < 9 ? \"UserId is required\" : \"\";\n        break;\n\n      case \"email\":\n        formErrors.email = emailRegex.test(value) ? \"\" : \"invalid email address\";\n        break;\n\n      case \"password\":\n        formErrors.password = value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState({\n      formErrors,\n      [name]: value\n    }, () => console.log(this.state));\n  }\n\n  render() {\n    const {\n      formErrors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '600px',\n        margin: '0 auto',\n        marginTop: '100px'\n      },\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-4 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, \"Log In\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: formErrors.role1.length > 0 ? \"error\" : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"role1\",\n      value: this.state.role1,\n      onChange: this.onChange,\n      className: \"form-control form-control-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 19\n      }\n    }, \"Who Are You\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"student\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, \"Student\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"warden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, \"Warden\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }, \"Admin\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-lg\",\n      placeholder: \"Email Address\",\n      name: \"email\",\n      noValidate: true,\n      value: this.state.email,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }), formErrors.email.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, formErrors.email)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control form-control-lg\",\n      placeholder: \"Password\",\n      name: \"password\",\n      noValidate: true,\n      value: this.state.password,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }), formErrors.password.length > 0 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, formErrors.password)), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-info btn-block mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  security: state.security,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  login\n})(Login);","map":{"version":3,"sources":["F:/react-hostel-main/src/components/UserManagement/Login.js"],"names":["React","Component","PropTypes","connect","classnames","login","emailRegex","RegExp","formValid","formErrors","rest","valid","Object","values","forEach","val","length","Login","constructor","state","email","password","role1","userId","onChange","bind","onSubmit","e","preventDefault","LoginRequest","props","history","name","value","target","test","setState","console","log","render","width","margin","marginTop","propTypes","func","isRequired","errors","object","mapStateToProps","security"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,KAAT,QAAsB,+BAAtB;AAEA,MAAMC,UAAU,GAAGC,MAAM,CACvB,sEADuB,CAAzB;;AAIA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAc,KAAGC;AAAjB,CAAD,KAA6B;AAC7C,MAAIC,KAAK,GAAG,IAAZ,CAD6C,CAG7C;;AACAC,EAAAA,MAAM,CAACC,MAAP,CAAcJ,UAAd,EAA0BK,OAA1B,CAAkCC,GAAG,IAAI;AACvCA,IAAAA,GAAG,CAACC,MAAJ,GAAa,CAAb,KAAmBL,KAAK,GAAG,KAA3B;AACD,GAFD,EAJ6C,CAQ7C;;AACAC,EAAAA,MAAM,CAACC,MAAP,CAAcH,IAAd,EAAoBI,OAApB,CAA4BC,GAAG,IAAI;AACjCA,IAAAA,GAAG,KAAK,IAAR,KAAiBJ,KAAK,GAAG,KAAzB;AACD,GAFD;AAIA,SAAOA,KAAP;AACD,CAdD;;AAgBA,MAAMM,KAAN,SAAoBhB,SAApB,CAA8B;AAC5BiB,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXZ,MAAAA,UAAU,EAAE;AACVa,QAAAA,KAAK,EAAE,EADG;AAEVC,QAAAA,MAAM,EAAE,EAFE;AAGVH,QAAAA,KAAK,EAAE,EAHG;AAIVC,QAAAA,QAAQ,EAAE;AAJA;AAHD,KAAb;AAWA,SAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AAGDC,EAAAA,QAAQ,CAACC,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,YAAY,GAAG;AACnBT,MAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADC;AAEnBC,MAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE,QAFF;AAGnBC,MAAAA,KAAK,EAAC,KAAKH,KAAL,CAAWG,KAHE;AAInBC,MAAAA,MAAM,EAAC,KAAKJ,KAAL,CAAWI;AAJC,KAArB;AAOA,SAAKO,KAAL,CAAWzB,KAAX,CAAiBwB,YAAjB,EAA8B,KAAKC,KAAL,CAAWC,OAAzC;AACD;;AAEDP,EAAAA,QAAQ,CAACG,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM;AAAEI,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBN,CAAC,CAACO,MAA1B;AACA,QAAIzB,UAAU,GAAG,EAAE,GAAG,KAAKU,KAAL,CAAWV;AAAhB,KAAjB;;AAEA,YAAQuB,IAAR;AACE,WAAK,OAAL;AACEvB,QAAAA,UAAU,CAACa,KAAX,GACEW,KAAK,CAACjB,MAAN,GAAe,CAAf,GAAmB,mBAAnB,GAAyC,EAD3C;AAEA;;AACF,WAAK,QAAL;AACEP,QAAAA,UAAU,CAACc,MAAX,GACEU,KAAK,CAACjB,MAAN,GAAe,CAAf,GAAmB,oBAAnB,GAA0C,EAD5C;AAEA;;AACF,WAAK,OAAL;AACEP,QAAAA,UAAU,CAACW,KAAX,GAAmBd,UAAU,CAAC6B,IAAX,CAAgBF,KAAhB,IACf,EADe,GAEf,uBAFJ;AAGA;;AACF,WAAK,UAAL;AACExB,QAAAA,UAAU,CAACY,QAAX,GACEY,KAAK,CAACjB,MAAN,GAAe,CAAf,GAAmB,gCAAnB,GAAsD,EADxD;AAEA;;AACF;AACE;AAnBJ;;AAsBA,SAAKoB,QAAL,CAAc;AAAE3B,MAAAA,UAAF;AAAc,OAACuB,IAAD,GAAQC;AAAtB,KAAd,EAA6C,MAAMI,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAjB,CAAnD;AACD;;AAEDoB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAE9B,MAAAA;AAAF,QAAiB,KAAKU,KAA5B;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,KAAK,EAAE;AAACqB,QAAAA,KAAK,EAAC,OAAP;AAAgBC,QAAAA,MAAM,EAAC,QAAvB;AAAiCC,QAAAA,SAAS,EAAC;AAA3C,OAAZ;AAAiE,MAAA,SAAS,EAAC,KAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,uBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAM,MAAA,QAAQ,EAAE,KAAKhB,QAArB;AAA+B,MAAA,UAAU,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAEjB,UAAU,CAACa,KAAX,CAAiBN,MAAjB,GAA0B,CAA1B,GAA8B,OAA9B,GAAwC,IAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,OAAb;AAAqB,MAAA,KAAK,EAAE,KAAKG,KAAL,CAAWG,KAAvC;AAA8C,MAAA,QAAQ,EAAE,KAAKE,QAA7D;AAAuE,MAAA,SAAS,EAAC,8BAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,eAGE;AAAQ,MAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,CADF,CADA,eASE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EAAC,8BAFZ;AAGE,MAAA,WAAW,EAAC,eAHd;AAIE,MAAA,IAAI,EAAC,OAJP;AAKE,MAAA,UAAU,MALZ;AAME,MAAA,KAAK,EAAE,KAAKL,KAAL,CAAWC,KANpB;AAOE,MAAA,QAAQ,EAAE,KAAKI,QAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUGf,UAAU,CAACW,KAAX,CAAiBJ,MAAjB,GAA0B,CAA1B,iBACC;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCP,UAAU,CAACW,KAA3C,CAXJ,CATF,eAwBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,SAAS,EAAC,8BAFZ;AAGE,MAAA,WAAW,EAAC,UAHd;AAIE,MAAA,IAAI,EAAC,UAJP;AAKE,MAAA,UAAU,MALZ;AAME,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,QANpB;AAOE,MAAA,QAAQ,EAAE,KAAKG,QAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUGf,UAAU,CAACY,QAAX,CAAoBL,MAApB,GAA6B,CAA7B,iBACC;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCP,UAAU,CAACY,QAA3C,CAXJ,CAxBF,eAsCE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAC,6BAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtCF,CAFF,CADF,CADF,CADF,CADF;AAmDD;;AAlH2B;;AAqH9BJ,KAAK,CAAC0B,SAAN,GAAkB;AAChBtC,EAAAA,KAAK,EAAEH,SAAS,CAAC0C,IAAV,CAAeC,UADN;AAEhBC,EAAAA,MAAM,EAAE5C,SAAS,CAAC6C,MAAV,CAAiBF;AAFT,CAAlB;;AAKA,MAAMG,eAAe,GAAG7B,KAAK,KAAK;AAChC8B,EAAAA,QAAQ,EAAE9B,KAAK,CAAC8B,QADgB;AAEhCH,EAAAA,MAAM,EAAE3B,KAAK,CAAC2B;AAFkB,CAAL,CAA7B;;AAKA,eAAe3C,OAAO,CACpB6C,eADoB,EAEpB;AAAE3C,EAAAA;AAAF,CAFoB,CAAP,CAGbY,KAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport classnames from \"classnames\";\nimport { login } from \"../../actions/securityActions\";\n\nconst emailRegex = RegExp(\n  /^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\n\nconst formValid = ({ formErrors, ...rest }) => {\n  let valid = true;\n\n  // validate form errors being empty\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n\n  // validate the form was filled out\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n\n  return valid;\n};\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      formErrors: {\n        role1: \"\",\n        userId: \"\",\n        email: \"\",\n        password: \"\"\n      }\n    \n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n  \n\n  onSubmit(e) {\n    e.preventDefault();\n    const LoginRequest = {\n      email: this.state.email,\n      password: this.state.password,\n      role1:this.state.role1,\n      userId:this.state.userId,\n    };\n\n    this.props.login(LoginRequest,this.props.history);\n  }\n\n  onChange(e) {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let formErrors = { ...this.state.formErrors };\n\n    switch (name) {\n      case \"role1\":\n        formErrors.role1 =\n          value.length < 1 ? \"Role is  required\" : \"\";\n        break;\n      case \"userId\":\n        formErrors.userId =\n          value.length < 9 ? \"UserId is required\" : \"\";\n        break;\n      case \"email\":\n        formErrors.email = emailRegex.test(value)\n          ? \"\"\n          : \"invalid email address\";\n        break;\n      case \"password\":\n        formErrors.password =\n          value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n  };\n\n  render() {\n    const { formErrors } = this.state;\n    return (\n      <div className=\"login\">\n        <div className=\"container\">\n          <div style={{width:'600px', margin:'0 auto' ,marginTop:'100px'}} className=\"row\">\n            <div className=\"col-md-8 m-auto\">\n              <h1 className=\"display-4 text-center\">Log In</h1>\n              <form onSubmit={this.onSubmit} noValidate>\n              <div className={formErrors.role1.length > 0 ? \"error\" : null}>\n                <select name='role1' value={this.state.role1} onChange={this.onChange} className=\"form-control form-control-lg\">\n                  <option value='0'>Who Are You</option>\n                  <option value='student'>Student</option>\n                  <option value='warden'>Warden</option>\n                  <option value='admin'>Admin</option>\n                </select>\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control form-control-lg\"\n                    placeholder=\"Email Address\"\n                    name=\"email\"\n                    noValidate\n                    value={this.state.email}\n                    onChange={this.onChange}\n                  />\n                  {formErrors.email.length > 0 && (\n                    <span className=\"errorMessage\">{formErrors.email}</span>\n                  )}\n                </div>\n              \n                <div className=\"form-group\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control form-control-lg\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    noValidate\n                    value={this.state.password}\n                    onChange={this.onChange}\n                  />\n                  {formErrors.password.length > 0 && (\n                    <span className=\"errorMessage\">{formErrors.password}</span>\n                  )}\n                </div>\n                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  security: state.security,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { login }\n)(Login);"]},"metadata":{},"sourceType":"module"}